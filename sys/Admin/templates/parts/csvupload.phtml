<?php include __DIR__ . '/../layouts/before_app.phtml'; ?>

<div class="card">
	<h1><?=$pageTitle;?></h1>
	<div class="mt-3 mb-3">
		<a href="csv-download" class="btn btn-sm btn-secondary">Download CSV with current monitoring point data</a>
	</div>

	<form action="" enctype="multipart/form-data" method="post" class="file-upload-form d-inline-block">
		<input type="file" style="display: none;" name="csv">
		<div class="form-group">
			<input type="submit" class="btn btn-primary" value="Upload csv"/>
		</div>
	</form>

	<hr>

	<div class="card">
		<div class="card-body p-0 small">
			<p><strong>Important informations concerning the CSVs:</strong></p>
			<ul>
				<li>Always use "," (comma) as field separator!</li>
				<li>Always use "." (period) as decimal separator of numbers!</li>
				<li>NCD of the point is the identifier of the row, do not modify if if you want to only update the row, and never remove this column!</li>
				<li>Do not remove the first row of the CSV!</li>
				<li>If you remove a row, the point won't be deleted.</li>
				<li>Below you can find more information about the columns, and the indentifiers which can be used in the CSV.</li>
			</ul>
		</div>
	</div>

	<hr>

	<div class="card">
		<div class="card-body p-0">
			<h5 class="card-title">Columns in CSV</h5>
			<dl class="row">
				<?php foreach ($csvColumns ?? [] as $id => $value) {?>
					<dt class="col-3 text-right small"><?=$id;?></dt>
					<dd class="col-9 small"><?=$value;?></dd>
				<?php } ?>
			</dl>
		</div>
	</div>

	<hr>

	<?php foreach ($enums as $enum) {?>
		<div class="card">
			<div class="card-body p-0">
				<h5 class="card-title"><?=$enum['title'] ?? null;?></h5>
				<dl class="row">
					<?php foreach ($enum['options'] ?? [] as $id => $value) {?>
						<dt class="col-1 text-right small"><?=$id;?></dt>
						<dd class="col-11 small"><?=$value;?></dd>
					<?php } ?>
				</dl>
			</div>
		</div>
	<?php } ?>
</div>


<?php include __DIR__ . '/../layouts/after_app.phtml'; ?>
